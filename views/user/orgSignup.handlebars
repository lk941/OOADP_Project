<link rel="stylesheet" href="/css/orgSignup.css">

<!-- multistep form -->
<form id="msform" method="post" action="/orgSignup">
	<!-- progressbar -->
	<ul id="progressbar">
		<li class="active">Prerequisites</li>
		<li>Details</li>
		<li>Create!</li>
	</ul>
	<!-- fieldsets -->
	<fieldset style="width: max-content; right: -72.5%; margin-bottom: 25px;">
		<h2 class="fs-title">How Big Are you?</h2>
		<h3 class="fs-subtitle">We need to access your size.</h3>
		<div class="subscription-container">
    <!-- Individual/SME/MNC -->
      <input type="radio" name="radio" id="option1" value="individual">
      <label for="option1" class="subscription__button">
          <h3 class="subscription__title subscription__title--personal"> 
            Individual
            <i class="subscription__icon fas fa-user"></i>
          </h3>
          <span class="subscription__price"><span class="subscription__price-month">You Work Alone.</span> </span>
          <ul class="subscription__list">
            <li class="subscription__item">
              <i class="icon-subscription fas fa-check-circle"></i>
              <span>
                Sizing: <span class="subscription__item-text"> One man show.</span>           
              </span>

            </li>
            <li class="subscription__item">
              <i class="icon-subscription fas fa-check-circle"></i>
              0% Commission
            </li>
          </ul>
      </label>

      <input type="radio" name="radio" id="option2" checked="checked" value="sme">
      <label for="option2" class="subscription__button">
          <h3 class="subscription__title subscription__title--business">
            SME
              <i class="subscription__icon fas fa-user-friends"></i>
          </h3>
          <span class="subscription__price"><span class="subscription__price-month">Small Medium Enterprises</span> </span>
          <ul class="subscription__list">
            <li class="subscription__item">
              <i class="icon-subscription fas fa-check-circle"></i>
              <span>
              Sizing: <span class="subscription__item-text">You are based locally/Have a few branches overseas.</span>            
              </span>

            </li>
            <li class="subscription__item">
              <i class="icon-subscription fas fa-check-circle"></i>
              1% Commission
            </li>
          </ul>
      </label>

      <input type="radio" name="radio" id="option3" value="mnc">
      <label for="option3" class="subscription__button">
          <h3 class="subscription__title subscription__title--enterprise">
              MNC
              <i class="subscription__icon fas fa-users"></i>
          </h3>
        <span class="subscription__price"><span class="subscription__price-month">Multinational Coporation</span> </span>
        <ul class="subscription__list">
          <li class="subscription__item">
              <i class="icon-subscription fas fa-check-circle"></i>
            <spa>
              Sizing: <span class="subscription__item-text">Have multiple branches all over the globe.</span>          
            </spa>
          </li>
          <li class="subscription__item">
              <i class="icon-subscription fas fa-check-circle"></i>
              3% Commission
          </li>
          </ul>
      </label>

    </div>
		<input style="margin-top: 3%;" type="button" name="next" class="next action-button" value="Next" />
	</fieldset>
	<fieldset>
		<h2 class="fs-title">Give us details!</h2>
		<h3 class="fs-subtitle">We need to know some things.</h3>
    <input type="text" name="org_ic" placeholder="IC"/>
		{{!-- <select id="org_size" name="org_size">
      <option value="mnc">Multinational Corporation</option>
      <option value="sme">Small Medium Enterprise</option>
      <option value="individual">Individual</option>
    </select> --}}
    <select id="org_type" name="org_type">
      <option value="goods">Goods</option>
      <option value="services">Services</option>
      <option value="goods_services">Goods/Services</option>
    </select>
		<input type="button" name="previous" class="previous action-button" value="Previous" />
		<input type="button" name="next" class="next action-button" value="Next" />
	</fieldset>
	<fieldset>
		<h2 class="fs-title">Create the Store</h2>
		<h3 class="fs-subtitle">Give it life!</h3>
		<input type="text" name="org_name" placeholder="Shop Name" />
		<input type="text" name="org_phone" placeholder="Shop Phone" value="{{user.phoneNo}}" />
    <input type="text" name="org_website" placeholder="Shop Website"/>
		<textarea name="org_location" placeholder="Shop Address" value="{{area}}"></textarea>
		<input type="button" name="previous" class="previous action-button" value="Previous" />
		<button type="submit" name="submit" class="submit action-button">Submit</button>
	</fieldset>
</form>

<script>
//jQuery time
var current_fs, next_fs, previous_fs; //fieldsets
var left, opacity, scale; //fieldset properties which we will animate
var animating; //flag to prevent quick multi-click glitches

$(".next").click(function() {
  if (animating) return false;
  animating = true;

  current_fs = $(this).parent();
  next_fs = $(this)
    .parent()
    .next();

  //activate next step on progressbar using the index of next_fs
  $("#progressbar li")
    .eq($("fieldset").index(next_fs))
    .addClass("active");

  //show the next fieldset
  next_fs.show();
  //hide the current fieldset with style
  current_fs.animate(
    { opacity: 0 },
    {
      step: function(now, mx) {
        //as the opacity of current_fs reduces to 0 - stored in "now"
        //1. scale current_fs down to 80%
        scale = 1 - (1 - now) * 0.2;
        //2. bring next_fs from the right(50%)
        left = now * 50 + "%";
        //3. increase opacity of next_fs to 1 as it moves in
        opacity = 1 - now;
        current_fs.css({ transform: "scale(" + scale + ")" });
        next_fs.css({ left: left, opacity: opacity });
      },
      duration: 800,
      complete: function() {
        current_fs.hide();
        animating = false;
      },
      //this comes from the custom easing plugin
      easing: "easeInOutBack"
    }
  );
});

$(".previous").click(function() {
  if (animating) return false;
  animating = true;

  current_fs = $(this).parent();
  previous_fs = $(this)
    .parent()
    .prev();

  //de-activate current step on progressbar
  $("#progressbar li")
    .eq($("fieldset").index(current_fs))
    .removeClass("active");

  //show the previous fieldset
  previous_fs.show();
  //hide the current fieldset with style
  current_fs.animate(
    { opacity: 0 },
    {
      step: function(now, mx) {
        //as the opacity of current_fs reduces to 0 - stored in "now"
        //1. scale previous_fs from 80% to 100%
        scale = 0.8 + (1 - now) * 0.2;
        //2. take current_fs to the right(50%) - from 0%
        left = (1 - now) * 50 + "%";
        //3. increase opacity of previous_fs to 1 as it moves in
        opacity = 1 - now;
        current_fs.css({ left: left });
        previous_fs.css({
          transform: "scale(" + scale + ")",
          opacity: opacity
        });
      },
      duration: 800,
      complete: function() {
        current_fs.hide();
        animating = false;
      },
      //this comes from the custom easing plugin
      easing: "easeInOutBack"
    }
  );
});

/*
$(".submit").click(function() {
  return false;
});
*/
</script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>